webpackJsonp([4],{XVMZ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("mtWM"),a=n.n(o),r={data:function(){return{tables:null,table_selected:"",contents:null,content_selected:"",prod_name:"",prod_year:"",prod_description:"",prod_img:""}},methods:{updateInputToEmpty:function(){this.prod_name="",this.prod_year="",this.prod_img="",this.prod_description=""},loadSingleEntry:function(){var t=this,e="http://localhost:5000/api/"+this.table_selected+"/"+this.content_selected;a.a.get(e).then(function(e){t.prod_name=e.data.name,t.prod_year=e.data.year,t.prod_img=e.data.img,t.prod_description=e.data.description}).catch(function(t){console.log("Could not retrieve a single items information")})},clickNewUpdate:function(){var t=this;if(this.prod_name!=this.content_selected){var e=this.payloadGenerator(),n="http://localhost:5000/api/"+this.table_selected+"/"+this.prod_name+"/add";a.a.post(n,e).then(function(e){return window.alert("Item: "+t.prod_name+" has been added.")}).then(function(t){return updateInputToEmpty()}).then(function(t){return loadDatabaseInformation()}).catch(function(e){console.log("Couldn't add "+t.prod_name)})}else{var o=this.payloadGenerator(),r="http://localhost:5000/api/"+this.table_selected+"/"+this.prod_name+"/edit";a.a.put(r,o).then(function(e){return window.alert("Item: "+t.prod_name+" has been updated.")}).then(function(t){return updateInputToEmpty()}).catch(function(e){console.log("Couldn't update "+t.prod_name)})}},payloadGenerator:function(){return{prod_name:this.prod_name,prod_year:this.prod_year,prod_img:this.prod_img,prod_description:this.prod_description}},loadDatabaseInformation:function(){var t=this,e="http://localhost:5000/api/"+this.table_selected+"/contents";a.a.get(e).then(function(e){return t.contents=e.data}).then(function(e){return t.updateInputToEmpty()}).finally(function(e){return t.content_selected=""}).catch(function(t){console.log("Couldn't retrieve tables")})},updateTheTable:function(){var t=this;a.a.get("http://localhost:5000/api/tables").then(function(e){return t.tables=e.data}).catch(function(t){console.log("Error loading the database and finding a database.")})}},created:function(){this.updateTheTable()}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"optionsDiv"}},[n("div",{attrs:{id:"optionsSelection"}},[n("p",[t._v("Chose a Type")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.table_selected,expression:"table_selected"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.table_selected=e.target.multiple?n:n[0]},function(e){return t.loadDatabaseInformation()}]}},[n("option",{attrs:{disabled:"",value:""}},[t._v("Available Databases")]),t._v(" "),t._l(t.tables,function(e){return n("option",{key:e},[t._v("\n                "+t._s(e)+"\n            ")])})],2)]),t._v(" "),n("div",{attrs:{id:"allOfEntries"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.content_selected,expression:"content_selected"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.content_selected=e.target.multiple?n:n[0]},function(e){return t.loadSingleEntry()}]}},[n("option",{attrs:{disabled:"",value:""}},[t._v("Existing Entries")]),t._v(" "),t._l(t.contents,function(e){return n("option",{key:e},[t._v("\n                "+t._s(e)+"\n            ")])})],2)]),t._v(" "),n("div",{attrs:{id:"formInformation"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.prod_name,expression:"prod_name"}],attrs:{placeholder:"Product's Name"},domProps:{value:t.prod_name},on:{input:function(e){e.target.composing||(t.prod_name=e.target.value)}}}),t._v(" "),n("br"),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.prod_year,expression:"prod_year"}],attrs:{placeholder:"Product's Year"},domProps:{value:t.prod_year},on:{input:function(e){e.target.composing||(t.prod_year=e.target.value)}}}),t._v(" "),n("br"),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.prod_img,expression:"prod_img"}],attrs:{placeholder:"Product's Image Source"},domProps:{value:t.prod_img},on:{input:function(e){e.target.composing||(t.prod_img=e.target.value)}}}),t._v(" "),n("br"),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.prod_description,expression:"prod_description"}],staticStyle:{width:"230px",height:"160px"},attrs:{placeholder:"Product's Description"},domProps:{value:t.prod_description},on:{input:function(e){e.target.composing||(t.prod_description=e.target.value)}}}),t._v(" "),n("br"),t._v(" "),n("button",{on:{click:function(e){return t.clickNewUpdate()}}},[t._v("Edit/New")])])])},staticRenderFns:[]};var d=n("VU/8")(r,i,!1,function(t){n("ftc8")},"data-v-2b944366",null);e.default=d.exports},ftc8:function(t,e){}});
//# sourceMappingURL=4.f6de371c8582b83b7b81.js.map